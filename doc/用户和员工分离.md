# 用户和雇员分离的建模思路

## 问题

用户中心的数据和组织架构的似乎有耦合，导致用户的数据放到哪里都不合适。需要解决这个问题。

## 数据分类

分析用户的数据类型，发现可以将用户的数据分为两类：

- 用户的自然人属性，例如
	
	- 姓名
	- 身份证号
	- 性别
	- 生日
	- 职业
	- 单位
	- 电话
	- 邮箱
	- 地区
	- 爱好（用户标签）
	- 活跃频率
	
 - 用户的组织架构属性，例如
 	
 	- 岗位
 	- 姓名
 	- 年龄
 	- 性别
 	- 工号
 	- 薪酬
 	- 办公地点
 	- 所属部门
 	- 性别
 	- 工龄
 	- 联系方式
 	
这里，姓名，年龄，性别两边都需要并且应该是一致的。其他则未必一直，例如地区和办公地点则未必相同。联系方式，也可能不一样，例如一个是办公室电话，一个是个人手机号码。
 	
当我们业务偏向与个体类时，例如，个性化推荐，主要与第一类用户打交道。而如果是组织架构类，则主要与第二类打交道。
 	
# 建模思路
 	
所以，这里的建模思路是把用户的数据一拆为二，一个叫**用户**，一个叫**员工**.用户的数据放到用户中心来维护。员工的数据放到组织架构服务来维护。
 	
具体的模型如下：
 	
![](/opt/mos/codebase/org-design/doc/UserEmplee.svg "")

# 考虑几个典型的场景

- 移动部门
- 员工换部门
- 员工登陆
- 查询特定岗位人员
- 用户登陆
- 用户修改爱好
- 用户订阅



 




 	